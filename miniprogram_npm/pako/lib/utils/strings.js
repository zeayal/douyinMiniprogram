"use strict";let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let e=0;e<256;e++)_utf8len[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;_utf8len[254]=_utf8len[254]=1,module.exports.string2buf=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,r,n,o,l,f=e.length,u=0;for(o=0;o<f;o++)r=e.charCodeAt(o),55296==(64512&r)&&o+1<f&&(n=e.charCodeAt(o+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),o++)),u+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(u),l=0,o=0;l<u;o++)r=e.charCodeAt(o),55296==(64512&r)&&o+1<f&&(n=e.charCodeAt(o+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),o++)),r<128?t[l++]=r:r<2048?(t[l++]=192|r>>>6,t[l++]=128|63&r):r<65536?(t[l++]=224|r>>>12,t[l++]=128|r>>>6&63,t[l++]=128|63&r):(t[l++]=240|r>>>18,t[l++]=128|r>>>12&63,t[l++]=128|r>>>6&63,t[l++]=128|63&r);return t};const buf2binstring=(e,t)=>{if(t<65534&&e.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};module.exports.buf2string=(e,t)=>{const r=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let n,o;const l=new Array(2*r);for(o=0,n=0;n<r;){let t=e[n++];if(t<128){l[o++]=t;continue}let f=_utf8len[t];if(f>4)l[o++]=65533,n+=f-1;else{for(t&=2===f?31:3===f?15:7;f>1&&n<r;)t=t<<6|63&e[n++],f--;f>1?l[o++]=65533:t<65536?l[o++]=t:(t-=65536,l[o++]=55296|t>>10&1023,l[o++]=56320|1023&t)}}return buf2binstring(l,o)},module.exports.utf8border=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let r=t-1;for(;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+_utf8len[e[r]]>t?r:t};
//# sourceMappingURL=strings.js.map